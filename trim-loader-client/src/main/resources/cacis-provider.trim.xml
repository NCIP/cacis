<?xml version="1.0" encoding="UTF-8"?>
<trim xmlns="urn:tolven-org:trim:4.0"
      xmlns:jaxb="http://java.sun.com/xml/ns/jaxb"
      xmlns:xjc="http://java.sun.com/xml/ns/jaxb/xjc"
      xmlns:xs="http://www.w3.org/2001/XMLSchema"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="urn:tolven-org:trim:4.0 http://tolven.org/xsd/trim4">
    <name>reg/evn/provider</name>
    <description>New caCIS Provider</description>
    <page>provider.xhtml</page>
    <drilldown>providerDD.xhtml</drilldown>
    <menu>global:providerMenu</menu>
    <application name="echr">
        <instance>echr:provider</instance>
        <wip>echr:activity:all</wip>
    </application>

    <transitions path="trim.act.participation['subject'].role.statusCodeValue">
        <transition name="create" to="active">
            <label language="en">New Provider</label>
        </transition>
        <transition name="reviseActive" from="active" to="active">
            <label language="en">Revise</label>
        </transition>
        <transition name="reviseTerminated" from="terminated" to="terminated">
            <label language="en">Revise</label>
        </transition>
        <transition name="terminateActive" from="active" to="terminated">
            <label language="en">Terminate</label>
        </transition>
        <transition name="reactivate" from="terminated" to="active">
            <label language="en">Reactivate</label>
        </transition>
    </transitions>

    <!--The below RIM XML is the serialization of  the following-->
    <!--<provider classCode="PROV">-->
    <!--<ns2:typeId extension="EXT" root="ROOT"/>-->
    <!--<ns2:templateId>-->
    <!--<ns2:item extension="EXT" root="ROOT"/>-->
    <!--</ns2:templateId>-->
    <!--<ns2:id>-->
    <!--<ns2:item extension="EXT" root="ROOT"/>-->
    <!--</ns2:id>-->
    <!--<ns2:code code="code"/>-->
    <!--<ns2:addr>-->
    <!--<ns2:item nullFlavor="NI"/>-->
    <!--</ns2:addr>-->
    <!--<ns2:telecom>-->
    <!--<ns2:item nullFlavor="NI"/>-->
    <!--</ns2:telecom>-->
    <!--<ns2:statusCode code="cscode"/>-->
    <!--<ns2:effectiveTime nullFlavor="NI"/>-->
    <!--<ns2:healthCarePerson>-->
    <!--<ns2:realmCode>-->
    <!--<ns2:item code="cscode"/>-->
    <!--</ns2:realmCode>-->
    <!--<ns2:typeId extension="EXT" root="ROOT"/>-->
    <!--<ns2:templateId>-->
    <!--<ns2:item extension="EXT" root="ROOT"/>-->
    <!--</ns2:templateId>-->
    <!--<ns2:name nullFlavor="NI">-->
    <!--</ns2:name>-->
    <!--<ns2:administrativeGenderCode code="code"/>-->
    <!--</ns2:healthCarePerson>-->
    <!--</provider>-->

    <act classCode="REG" moodCode="EVN">
        <title>
            <ST>HealthcareProvider</ST>
        </title>
        <participation name="subject" typeCode="SBJ">
            <role classCode="PROV">
	            <bind application="echr" phase="create">
		           <placeholder bindAction="merge">
		               <path>echr:provider</path>
		           </placeholder>
		       </bind>
                <typeId>
                    <II>
                        <root>1.2.3</root>
                        <extension>1</extension>
                    </II>
                </typeId>
                <templateId>
                    <II>
                        <root>EXT</root>
                        <extension>ROOT</extension>
                    </II>
                </templateId>
                <!-- If this id/II is not present, the internal computed II will be used -->
                <id>
					<II>
						<root>1.2.3.4.5</root>
						<extension>6</extension>
					</II>
				</id>
                <code>
                    <label>Provider Type</label>
                    <valueSet>HealthProviderRoleTypeVS</valueSet>
                </code>
                <addr>
                    <AD>
                        <null type="NI"></null>
                    </AD>
                </addr>
                <telecom>
                    <null type="NI"/>
                </telecom>
                <statusCode>active</statusCode>
                <effectiveTime>
                    <null type="NI"/>
                </effectiveTime>

                <player classCode="PSN" determinerCode="INSTANCE">
                    <realmCode>US</realmCode>
                    <typeId>
                        <II>
                            <root>EXT</root>
                            <extension>ROOT</extension>
                        </II>
                    </typeId>
                    <templateId>
                        <II>
                            <root>EXT</root>
                            <extension>ROOT</extension>
                        </II>
                    </templateId>
                    <name>
                        <EN>
                            <null type="NI"/>
                        </EN>
                    </name>
                    <livingSubject>
                        <administrativeGenderCode>
                            <label>Gender</label>
                            <valueSet>AdministrativeGender</valueSet>
                        </administrativeGenderCode>
                    </livingSubject>
                </player>
            </role>
        </participation>
        <compute>
			<type>org.tolven.provider.compute.ResolveProviderId</type>
		</compute>
    </act>

    <valueSet name="HealthProviderRoleType">
        <!-- populated by loader code -->
    </valueSet>
    <valueSet name="AdministrativeGender">
        <CE>
            <displayName>Male</displayName>
            <code>M</code>
            <codeSystem>2.16.840.1.113883.5.1</codeSystem>
            <codeSystemVersion>76</codeSystemVersion>
        </CE>
        <CE>
            <displayName>Female</displayName>
            <code>F</code>
            <codeSystem>2.16.840.1.113883.5.1</codeSystem>
            <codeSystemVersion>76</codeSystemVersion>
        </CE>
        <CE>
            <displayName>Undifferentiated</displayName>
            <code>UN</code>
            <codeSystem>2.16.840.1.113883.5.1</codeSystem>
            <codeSystemVersion>76</codeSystemVersion>
        </CE>
    </valueSet>

    <field name="system">
        <value xsi:type="xs:long">0</value>
    </field>
    <field name="selectSpecialty">
        <value xsi:type="xs:boolean">false</value>
    </field>
    <field name="specialty">
        <value xsi:type="xs:long">0</value>
    </field>
    <field name="selectProvider">
        <value xsi:type="xs:boolean">true</value>
    </field>
    <field name="provider">
        <value xsi:type="xs:long">1</value>
    </field>
    <!-- Change locally to run tolven system tests, please be sure to change to 2000 prior to commit since CI
        is configured to use id 2000. -->
    <field name="providerId">
        <value xsi:type="xs:long">2000</value>
    </field>


</trim>