<project>
    <property name="target.dir" value="${basedir}/target" />
    <property name="build.dir" value="${target.dir}" />
    <property name="build.classes.dir" value="${build.dir}/classes" />
    <property name="src.dir" value="${basedir}/src" />
    <property name="src.main.dir" value="${src.dir}/main" />
    <property name="src.resources.dir" value="${src.main.dir}/resources" />
    <property name="tolven.devLib" value="${tolvenConfig.location}/devLib" />
    <property name="lib" value="${basedir}/lib" />

    <target name="build-trim-loader">
        <mkdir dir="${build.dir}/trim-loader-client" />
        <copy todir="${build.classes.dir}">
            <fileset dir="${src.resources.dir}">
            </fileset>
        </copy>


        <fileset id="cacis-jarsToInclude" dir="${lib}">
            <include name="commons-logging-1.1.1.jar" />
            <include name="log4j-1.2.14.jar" />
            <include name="jbossall-client-1.0-SNAPSHOT.jar" />
            <include name="hibernate3-1.0-SNAPSHOT.jar" />
            <include name="javassist-1.0-SNAPSHOT.jar" />
        </fileset>
        <fileset id="esd-commons-jar" dir="${basedir}/../esd-commons/target">
            <include name="esd-commons-1.0.jar" />
        </fileset>
        <fileset id="tolven-jarsToInclude" dir="${lib}">
            <include name="org.tolven.component.tolvenejb.devLib-1.0-SNAPSHOT.jar" />
            <include name="org.tolven.library.tolvencommon.devLib.jar" />
            <include name="org.tolven.library.javaee.javaee.jar" />
        </fileset>

        <jar destfile="${build.dir}/trim-loader-client/trim-loader.jar" description="Create jar and MANIFEST.MF">
            <fileset dir="${build.classes.dir}" />
            <fileset refid="cacis-jarsToInclude" />
            <fileset refid="esd-commons-jar" />
            <fileset refid="tolven-jarsToInclude" />
            <manifest>
                <attribute name="Main-Class" value="gov.nih.nci.cacis.trimloader.TrimLoaderApp" />
                <attribute name="Class-Path" value="esd-commons-1.0.jar commons-logging-1.1.1.jar log4j-1.2.14.jar jbossall-client-1.0-SNAPSHOT.jar hibernate3-1.0-SNAPSHOT.jar javassist-1.0-SNAPSHOT.jar org.tolven.component.tolvenejb.devLib-1.0-SNAPSHOT.jar org.tolven.library.tolvencommon.devLib.jar org.tolven.library.javaee.javaee.jar" />
            </manifest>
        </jar>
    </target>
</project>
